<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:panelGroup id="paidTable">

        <h:dataTable 
            value="#{adminBillingBean.paidList}" 
            var="bill"
            styleClass="table table-hover table-bordered align-middle subscription-table"
            headerClass="table-dark"
        >

            <h:column>
                <f:facet name="header">Customer Name</f:facet>
                #{bill.customerName}
            </h:column>

            <h:column>
                <f:facet name="header">Service Name</f:facet>
                #{bill.serviceName}
            </h:column>

            <h:column>
                <f:facet name="header">Amount</f:facet>
                KES #{bill.amount}
            </h:column>

            <h:column>
                <f:facet name="header">Billing Date</f:facet>
                #{bill.billingDate}
            </h:column>

            <h:column>
                <f:facet name="header">Action</f:facet>
                <h:commandButton 
                    value="Mark as Unpaid" 
                    action="#{adminBillingBean.markBillUnpaid(bill.id)}" 
                    styleClass="btn btn-warning btn-sm"
                >
                    <f:ajax render="@form"/>
                </h:commandButton>
            </h:column>

        </h:dataTable>

        <h:outputText 
            rendered="#{empty adminBillingBean.paidList}" 
            value="No paid bills." 
            styleClass="text-muted"
        />

    </h:panelGroup>
</ui:composition>
