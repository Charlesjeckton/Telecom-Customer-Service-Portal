<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <!-- =================== CUSTOM THEME + NAVBAR =================== -->
    <ui:include src="/customer/includes/customerTheme.xhtml" />
    <ui:include src="/customer/includes/customerNavbar.xhtml" />

    <style>
        .nav-tabs .nav-link.active {
            background-color: #198754 !important;
            color: #fff !important;
            border-color: #198754 !important;
            font-weight: bold;
        }
        .nav-tabs .nav-link:hover {
            background-color: #e7f1ff;
            color: #198754;
        }
    </style>

    <!-- =================== VIEW PARAM TO AUTOMATICALLY SELECT TAB =================== -->
    <f:metadata>
        <f:viewParam name="tab" value="#{customerBillingBean.activeTab}" />
    </f:metadata>

    <div class="content">

        <h2 class="pt-4 mb-3 fw-bold text-center">Billing History</h2>

        <!-- ======================= CENTERED TABS ======================= -->
        <ul class="nav nav-tabs justify-content-center mb-2" id="billingTabs">
            <li class="nav-item">
                <h:link outcome="/customer/billing" 
                        styleClass="nav-link #{customerBillingBean.activeTab eq 'paid' ? 'active' : ''}" 
                        id="tab-paid">
                    <f:param name="tab" value="paid" />
                    Paid Bills
                </h:link>
            </li>

            <li class="nav-item">
                <h:link outcome="/customer/billing" 
                        styleClass="nav-link #{customerBillingBean.activeTab eq 'unpaid' ? 'active' : ''}" 
                        id="tab-unpaid">
                    <f:param name="tab" value="unpaid" />
                    Unpaid Bills
                </h:link>
            </li>
        </ul>

        <!-- ======================= TAB CONTENT ======================= -->
        <div class="tab-content" style="padding-top:0 !important; margin-top:0 !important;">
            <div class="tab-pane fade #{customerBillingBean.activeTab eq 'unpaid' ? 'show active' : ''}" id="unpaid">
                <ui:include src="/customer/unpaidBills.xhtml" />
            </div>

            <div class="tab-pane fade #{customerBillingBean.activeTab eq 'paid' ? 'show active' : ''}" id="paid">
                <ui:include src="/customer/paidBills.xhtml" />
            </div>
        </div>

    </div>

</ui:composition>
